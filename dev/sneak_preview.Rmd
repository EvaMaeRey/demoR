---
title: "Code Highlighting with demoR"
output: rmarkdown::html_document
---

```{r, include = FALSE}
# knitr::opts_chunk$set(
#   collapse = TRUE,
#   comment = "#>"
# )
```

```{r setup, include = FALSE}
library(demoR)
library(tidyverse)
library(knitr)

```


## Specific syntax highlighting made easy!

What your code chunk looks like:

```{r, eval = FALSE}
demo_code('
  ggplot(iris, aes(x = Sepal.Length, fill = Species)) +
    geom_histogram(alpha = 0.5)
') %>%
  hlt_args(color = "green") %>%
  hlt_funs(color = "blue") %>%
  hlt_input_vals(color = "red") %>%
  hlt_regexp("Sepal.Length")
```

What the output looks like:

```{r, echo = FALSE, fig.width = 7, fig.height = 5}
demo_code('
  ggplot(iris, aes(x = Sepal.Length, fill = Species)) +
    geom_histogram(alpha = 0.5)
') %>%
  hlt_args(color = "green") %>%
  hlt_funs(color = "blue") %>%
  hlt_input_vals(color = "red") %>%
  hlt_regexp("Sepal.Length")
```


## Doesn't break your code flow

demoR code acts as if the wrappers and highlights were never there.  Thus, you can define objects, etc. within demo_code wraps and use them later:


```{r, echo = FALSE}

demo_code('foo <- mean(1:10)') %>% 
  hlt_input_vals() %>%
  hlt_regexp("foo")

```

```{r}
foo + 5

```


## (to copy paste on twitter)


What your chunk looks like:
```{r, eval = FALSE}
demo_code('

  iris %>%
    mutate(
      Sepal.Size = Sepal.Length + Sepal.Width
      ) %>%
    group_by(Species) %>%
    summarize(mean_size = mean(Sepal.Length))

') %>%
  hlt_args(color = "green") %>%
  hlt_funs(color = "blue") %>%
  hlt_input_vals(color = "red") %>%
  hlt_regexp("Sepal.Size")
```

What the output looks like:
```{r, echo = FALSE}
demo_code('

  iris %>%
    mutate(
      Sepal.Size = Sepal.Length + Sepal.Width
      ) %>%
    group_by(Species) %>%
    summarize(mean_size = mean(Sepal.Size))
  
') %>%
  hlt_args(color = "green") %>%
  hlt_funs(color = "blue") %>%
  hlt_input_vals(color = "red") %>%
  hlt_regexp("Sepal.Size")
```


## You can combine multiple lines of code into one demo

If you want to highlight the same (types of) things in each line

```{r, echo = FALSE}
demo_code('

bob <- 1:10

bob <- bob + 2

mean(bob)

plot(bob)

') %>%
  hlt_funs() %>%
  hlt_regexp("bob", color = "blue")

```

